:root {
  --bg: linear-gradient(135deg,#6C63FF,#FF6584);
  --glass: rgba(255,255,255,0.08);
  --danger: #FF3B30;
  --light-bg: #f5f5f5;
  --light-color: #222;
}

* { box-sizing: border-box; font-family: Inter; }

body {
  margin: 0;
  background: var(--bg);
  color: #fff;
  transition: all 0.3s;
}

body.light { background: var(--light-bg); color: var(--light-color); }

.wrap { max-width: 1200px; margin: auto; padding: 20px; }

.topbar { display: flex; justify-content: space-between; align-items: center; gap:12px; }

.main { display: grid; grid-template-columns: 1fr 350px; gap: 20px; }

.card { background: var(--glass); padding: 16px; border-radius: 14px; transition: all 0.3s; }
body.light .card { background: rgba(255,255,255,0.9); color:#222; }

.video-frame { position: relative; height: 300px; border-radius:12px; overflow:hidden; background:#000; }
video { width:100%; height:100%; object-fit:cover; }
.overlay-canvas { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; }

.record-overlay { position:absolute; top:10px; left:10px; display:flex; gap:8px; }
.pulse { width:12px; height:12px; border-radius:50%; background:var(--danger); animation:pulse 1s infinite; }
@keyframes pulse { 0%{transform:scale(0.8);opacity:1}100%{transform:scale(1.4);opacity:0} }

.sos { width:100%; padding:14px; font-size:18px; font-weight:700; color:white; background:linear-gradient(#FF3B30,#FF6B6B); border:none; border-radius:12px; cursor:pointer; transition:transform 0.1s; }
.sos:active{transform:scale(0.97);}

.ghost{padding:10px 14px;background:rgba(255,255,255,0.1);border:none;border-radius:8px;cursor:pointer;margin-top:8px;transition:all 0.2s;}
.ghost:hover{background:rgba(255,255,255,0.2);}

.map{height:220px;border-radius:12px;}
ul{list-style:none;padding:0;}
ul li{margin-top:6px;padding:8px;background:rgba(0,0,0,0.25);border-radius:8px;transition:all 0.3s;}
body.light ul li{background:rgba(0,0,0,0.05);color:#222;}

.left-buttons{display:flex;gap:10px;margin-top:10px;}
video#lastVideo{border-radius:12px;margin-top:10px;max-height:200px;}

#toastContainer{position:fixed;bottom:30px;left:50%;transform:translateX(-50%);z-index:999;}
.toast{background:rgba(0,0,0,0.7);color:#fff;padding:12px 20px;border-radius:10px;margin-top:6px;opacity:0.95;transition:all 0.3s;}

.recording-border{box-shadow:0 0 20px var(--danger);}

.snapshot-gallery{display:flex;flex-wrap:wrap;gap:6px;}
.snapshot-gallery img{width:70px;height:70px;object-fit:cover;border-radius:8px;cursor:pointer;transition:all 0.2s;}
.snapshot-gallery img:hover{transform:scale(1.1);}
